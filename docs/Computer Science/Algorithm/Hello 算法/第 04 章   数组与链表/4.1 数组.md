# 4.1 Â  æ•°ç»„
çº¿æ€§ç»“æ„
å°†å…ƒç´ å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜ç©ºé—´
å…ƒç´ åœ¨æ•°ç»„çš„ä½ç½®ç§°ä¸ºè¯¥å…ƒç´ çš„ç´¢å¼•
![](./images/Pasted%20image%2020240609170027.png)

## 4.1.1 Â  æ•°ç»„å¸¸ç”¨æ“ä½œ
### 1. Â  åˆå§‹åŒ–
```c
/* åˆå§‹åŒ–æ•°ç»„ */
int arr[5] = { 0 }; // { 0, 0, 0, 0, 0 }
int nums[5] = { 1, 3, 2, 5, 4 };
```

### 2. Â  è®¿é—®å…ƒç´ 
å¦‚ä½•æ‰¾åˆ°å…ƒç´ å†…å­˜åœ°å€:
![](./images/Pasted%20image%2020240609170248.png)

**ç´¢å¼•æœ¬è´¨ä¸Šæ˜¯å†…å­˜åœ°å€çš„åç§»é‡**,è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç´¢å¼•ä»0å¼€å§‹
ä»€ä¹ˆæ˜¯åç§»é‡?
> æŒ‡æ•°ç»„æˆ–å¯¹è±¡çš„èµ·ç‚¹ä¸æ‰€è¦æŸ¥æ‰¾çš„å€¼ä¹‹é—´çš„è·ç¦»ï¼Œè¯¥è·ç¦»æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ã€‚ä¾‹å¦‚åœ¨å­—ç¬¦æ•°ç»„ "abcdef "ä¸­ï¼Œå­—ç¬¦ "d "ä¸aä¹‹é—´çš„åç§»é‡ä¸º3ã€‚

> åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ"åç§»é‡"ï¼ˆOffsetï¼‰æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œå®ƒæŒ‡çš„æ˜¯ä»æŸä¸ªç‰¹å®šçš„èµ·å§‹ç‚¹ï¼ˆé€šå¸¸æ˜¯å†…å­˜åœ°å€ï¼‰åˆ°ç›®æ ‡æ•°æ®ç‚¹çš„è·ç¦»æˆ–ä½ç½®å·®ã€‚å½“æˆ‘ä»¬è¯´ç´¢å¼•æ˜¯å†…å­˜åœ°å€çš„åç§»é‡æ—¶ï¼Œæˆ‘ä»¬æ˜¯åœ¨æè¿°æ•°ç»„æˆ–å…¶ä»–æ•°æ®ç»“æ„ä¸­å…ƒç´ çš„ä½ç½®æ˜¯å¦‚ä½•ç›¸å¯¹äºæ•°æ®ç»“æ„å¼€å§‹ä½ç½®çš„å†…å­˜åœ°å€æ¥ç¡®å®šçš„ã€‚ 
> ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€æ˜¯`0x1000`ï¼ˆè¿™æ˜¯ä¸€ä¸ªå‡è®¾çš„å†…å­˜åœ°å€ï¼Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚å¦‚æœæ•°ç»„çš„æ¯ä¸ªå…ƒç´ å ç”¨4ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆï¼š 
> - ç´¢å¼•0çš„å…ƒç´ å°†ä½äºå†…å­˜åœ°å€`0x1000`ï¼ˆèµ·å§‹åœ°å€ï¼Œåç§»é‡ä¸º0ï¼‰ã€‚ 
> - ç´¢å¼•1çš„å…ƒç´ å°†ä½äºå†…å­˜åœ°å€`0x1000 + (1 * 4)`ï¼Œå³`0x1004`ï¼ˆåç§»é‡ä¸º4å­—èŠ‚ï¼‰ã€‚ 
> - ç´¢å¼•2çš„å…ƒç´ å°†ä½äºå†…å­˜åœ°å€`0x1000 + (2 * 4)`ï¼Œå³`0x1008`ï¼ˆåç§»é‡ä¸º8å­—èŠ‚ï¼‰ã€‚
> 
> å› æ­¤ï¼Œç´¢å¼•å®é™…ä¸Šæ˜¯å‘Šè¯‰æˆ‘ä»¬ä»æ•°ç»„çš„èµ·å§‹å†…å­˜åœ°å€å¼€å§‹ï¼Œéœ€è¦è·³è¿‡å¤šå°‘å­—èŠ‚æ¥æ‰¾åˆ°ç‰¹å®šç´¢å¼•çš„å…ƒç´ ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç´¢å¼•å€¼ä¹˜ä»¥å…ƒç´ å¤§å°ï¼ˆ4å­—èŠ‚ï¼‰å°±æ˜¯åç§»é‡ã€‚ 
> åœ¨ç¼–ç¨‹ä¸­ï¼Œè¿™ç§è®¡ç®—é€šå¸¸æ˜¯ç”±ç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨è‡ªåŠ¨å®Œæˆçš„ï¼Œç¨‹åºå‘˜åªéœ€è¦ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®æ•°ç»„æˆ–æ•°æ®ç»“æ„ä¸­çš„å…ƒç´ ã€‚åç§»é‡çš„æ¦‚å¿µæ˜¯åº•å±‚çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œå®ƒç¡®ä¿äº†æ•°æ®çš„å¿«é€Ÿè®¿é—®å’Œç»„ç»‡ã€‚

åœ¨Â ğ‘‚(1)Â æ—¶é—´å†…éšæœºè®¿é—®æ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ 
```c
/* éšæœºè®¿é—®å…ƒç´  */
int randomAccess(int *nums, int size) {
    // åœ¨åŒºé—´ [0, size) ä¸­éšæœºæŠ½å–ä¸€ä¸ªæ•°å­—
    int randomIndex = rand() % size;
    // è·å–å¹¶è¿”å›éšæœºå…ƒç´ 
    int randomNum = nums[randomIndex];
    return randomNum;
}
```

### 3. Â  æ’å…¥å…ƒç´ 
å› ä¸ºæ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯ç´§æŒ¨ç€çš„ï¼Œå¦‚æœæƒ³è¦åœ¨ä¸­é—´æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¯¥ä½ç½®ä¹‹åçš„å…ƒç´ éƒ½å¾—å¾€åé ï¼Œæœ€åæŠŠå…ƒç´ å¤åˆ¶ç»™è¯¥ç´¢å¼•
![](./images/Pasted%20image%2020240609171126.png)

```c 
/* åœ¨æ•°ç»„çš„ç´¢å¼• index å¤„æ’å…¥å…ƒç´  num */
void insert(int *nums, int size, int num, int index) {
    // æŠŠç´¢å¼• index ä»¥åŠä¹‹åçš„æ‰€æœ‰å…ƒç´ å‘åç§»åŠ¨ä¸€ä½
    for (int i = size - 1; i > index; i--) {
        nums[i] = nums[i - 1];
    }
    // å°† num èµ‹ç»™ index å¤„çš„å…ƒç´ 
    nums[index] = num;
}
```

### 4. Â  åˆ é™¤å…ƒç´ 
è‹¥è¦åˆ é™¤ç´¢å¼•iå¤„çš„å…ƒç´ ï¼Œç”¨iåé¢çš„å…ƒç´ é€ä¸€è¦†ç›–å‰é¢ä¸€é¡¹ï¼Œç›´åˆ°æœ€åå°†é•¿åº¦ - 1
![](./images/Pasted%20image%2020240609171353.png)
```c
/* åˆ é™¤ç´¢å¼• index å¤„çš„å…ƒç´  */
// æ³¨æ„ï¼šstdio.h å ç”¨äº† remove å…³é”®è¯
void removeItem(int *nums, int size, int index) {
    // æŠŠç´¢å¼• index ä¹‹åçš„æ‰€æœ‰å…ƒç´ å‘å‰ç§»åŠ¨ä¸€ä½
    for (int i = index; i < size - 1; i++) {
        nums[i] = nums[i + 1];
    }
}
```

æ•°ç»„æ’å…¥ä¸åˆ é™¤æ“ä½œç¼ºç‚¹:
- **æ—¶é—´å¤æ‚åº¦é«˜**ï¼šæ•°ç»„çš„æ’å…¥å’Œåˆ é™¤çš„å¹³å‡æ—¶é—´å¤æ‚åº¦å‡ä¸ºÂ ğ‘‚(ğ‘›)Â ï¼Œå…¶ä¸­Â ğ‘›Â ä¸ºæ•°ç»„é•¿åº¦ã€‚
- **ä¸¢å¤±å…ƒç´ **ï¼šç”±äºæ•°ç»„çš„é•¿åº¦ä¸å¯å˜ï¼Œå› æ­¤åœ¨æ’å…¥å…ƒç´ åï¼Œè¶…å‡ºæ•°ç»„é•¿åº¦èŒƒå›´çš„å…ƒç´ ä¼šä¸¢å¤±ã€‚
- **å†…å­˜æµªè´¹**ï¼šæˆ‘ä»¬å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ªæ¯”è¾ƒé•¿çš„æ•°ç»„ï¼Œåªç”¨å‰é¢ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œä¸¢å¤±çš„æœ«å°¾å…ƒç´ éƒ½æ˜¯â€œæ— æ„ä¹‰â€çš„ï¼Œä½†è¿™æ ·åšä¼šé€ æˆéƒ¨åˆ†å†…å­˜ç©ºé—´æµªè´¹ã€‚

### 5. Â  éå†æ•°ç»„
```c
/* éå†æ•°ç»„ */
void traverse(int *nums, int size) {
    int count = 0;
    // é€šè¿‡ç´¢å¼•éå†æ•°ç»„
    for (int i = 0; i < size; i++) {
        count += nums[i];
    }
}
```

### 6. Â  æŸ¥æ‰¾å…ƒç´ 
å› ä¸ºæ•°ç»„æ˜¯çº¿æ€§æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥è¯¥æŸ¥æ‰¾æ“ä½œè¢«ç§°ä¸ºâ€œçº¿æ€§æŸ¥æ‰¾â€ã€‚
```c
/* åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå…ƒç´  */
int find(int *nums, int size, int target) {
    for (int i = 0; i < size; i++) {
        if (nums[i] == target)
            return i;
    }
    return -1;
}
```

### 7. Â  æ‰©å®¹æ•°ç»„
ç”¨æ›´å¤§çš„ç›’å­è£…æ—§çš„å…ƒç´ 
Â $ğ‘‚(ğ‘›)$
```c
/* æ‰©å±•æ•°ç»„é•¿åº¦ */
int *extend(int *nums, int size, int enlarge) {
    // åˆå§‹åŒ–ä¸€ä¸ªæ‰©å±•é•¿åº¦åçš„æ•°ç»„
    int *res = (int *)malloc(sizeof(int) * (size + enlarge));
    // å°†åŸæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„
    for (int i = 0; i < size; i++) {
        res[i] = nums[i];
    }
    // åˆå§‹åŒ–æ‰©å±•åçš„ç©ºé—´
    for (int i = size; i < size + enlarge; i++) {
        res[i] = 0;
    }
    // è¿”å›æ‰©å±•åçš„æ–°æ•°ç»„
    return res;
}
```

## 4.1.2 Â  æ•°ç»„çš„ä¼˜ç‚¹ä¸å±€é™æ€§
ä¼˜ç‚¹
- **ç©ºé—´æ•ˆç‡é«˜**ï¼šæ•°ç»„ä¸ºæ•°æ®åˆ†é…äº†è¿ç»­çš„å†…å­˜å—ï¼Œæ— é¡»é¢å¤–çš„ç»“æ„å¼€é”€ã€‚
- **æ”¯æŒéšæœºè®¿é—®**ï¼šæ•°ç»„å…è®¸åœ¨Â $ğ‘‚(1)$æ—¶é—´å†…è®¿é—®ä»»ä½•å…ƒç´ ã€‚
- **ç¼“å­˜å±€éƒ¨æ€§**ï¼šå½“è®¿é—®æ•°ç»„å…ƒç´ æ—¶ï¼Œè®¡ç®—æœºä¸ä»…ä¼šåŠ è½½å®ƒï¼Œè¿˜ä¼šç¼“å­˜å…¶å‘¨å›´çš„å…¶ä»–æ•°æ®ï¼Œä»è€Œå€ŸåŠ©é«˜é€Ÿç¼“å­˜æ¥æå‡åç»­æ“ä½œçš„æ‰§è¡Œé€Ÿåº¦ã€‚

å±€é™æ€§
- **æ’å…¥ä¸åˆ é™¤æ•ˆç‡ä½**ï¼šå…ƒç´ å¤šæ—¶ï¼Œæ“ä½œéœ€è¦ç§»åŠ¨å¤§é‡çš„å…ƒç´ ã€‚
- **é•¿åº¦ä¸å¯å˜**ï¼šæ•°ç»„åœ¨åˆå§‹åŒ–åé•¿åº¦å°±å›ºå®šäº†ï¼Œæ‰©å®¹æ•°ç»„éœ€è¦å°†æ‰€æœ‰æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ï¼Œå¼€é”€å¾ˆå¤§ã€‚
- **ç©ºé—´æµªè´¹**ï¼šå¦‚æœæ•°ç»„åˆ†é…çš„å¤§å°è¶…è¿‡å®é™…æ‰€éœ€ï¼Œé‚£ä¹ˆå¤šä½™çš„ç©ºé—´å°±è¢«æµªè´¹äº†ã€‚

## 4.1.3 Â  æ•°ç»„å…¸å‹åº”ç”¨
- **éšæœºè®¿é—®**ï¼šéšæœºåºåˆ—ï¼ŒéšæœºæŠ½æ ·
- **æ’åºå’Œæœç´¢**ï¼šå¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€äºŒåˆ†æŸ¥æ‰¾
- **æŸ¥æ‰¾è¡¨**ï¼šå½“éœ€è¦å¿«é€ŸæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ æˆ–å…¶å¯¹åº”å…³ç³»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ä½œä¸ºæŸ¥æ‰¾è¡¨ã€‚å‡å¦‚æˆ‘ä»¬æƒ³å®ç°å­—ç¬¦åˆ° ASCII ç çš„æ˜ å°„ï¼Œåˆ™å¯ä»¥å°†å­—ç¬¦çš„ ASCII ç å€¼ä½œä¸ºç´¢å¼•ï¼Œå¯¹åº”çš„å…ƒç´ å­˜æ”¾åœ¨æ•°ç»„ä¸­çš„å¯¹åº”ä½ç½®ã€‚
- **æœºå™¨å­¦ä¹ **ï¼šç¥ç»ç½‘ç»œä¸­å¤§é‡ä½¿ç”¨äº†å‘é‡ã€çŸ©é˜µã€å¼ é‡ä¹‹é—´çš„çº¿æ€§ä»£æ•°è¿ç®—ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯ä»¥æ•°ç»„çš„å½¢å¼æ„å»ºçš„ã€‚æ•°ç»„æ˜¯ç¥ç»ç½‘ç»œç¼–ç¨‹ä¸­æœ€å¸¸ä½¿ç”¨çš„æ•°æ®ç»“æ„ã€‚
- **æ•°æ®ç»“æ„å®ç°**ï¼šå®ç°æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€å †ã€å›¾ã€‚ä¾‹å¦‚ï¼Œå›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºå®é™…ä¸Šæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚
